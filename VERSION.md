# 📦 当前版本信息

## 版本号
**v2.0**

## 发布日期
**2025年10月26日**

## 版本代号
**"智能需求管理版"**

---

## 🎯 版本概述

本版本是专门针对软件测试比赛规范优化的重大更新版本，引入了需求管理、参数化测试、智能定位器生成等核心功能，全面提升测试脚本的质量、稳定性和可维护性。

---

## ✨ 核心亮点

### 1️⃣ 需求管理系统
- 按需求编号（R001、R002等）分组管理测试用例
- 每个需求对应独立的参数化测试函数
- 支持录制过程中动态切换需求
- 自动生成规范的测试用例编号

### 2️⃣ 智能定位器生成
- 使用元素实际文本而非搜索文本生成XPath
- 自动生成3-5个备选定位器
- 运行时主定位器失败自动切换备选
- 智能过滤动态ID和CSS Modules哈希

### 3️⃣ 强力清空输入框
- 四重清空机制确保输入框彻底清空
- 完美支持携程等网站的自定义输入控件
- 物理按键 + JavaScript + 标准方法组合

### 4️⃣ Pytest参数化测试
- 每个步骤作为独立测试用例执行
- 清晰的测试报告和失败定位
- 符合软件测试比赛规范

### 5️⃣ 容错与稳定性
- 备选定位器自动重试机制
- 浏览器生命周期管理（Try-Finally）
- 详细的定位器调试日志

---

## 📊 版本统计

| 项目 | 数量 | 说明 |
|------|------|------|
| **代码行数** | 2,027行 | web_optimized.py主程序 |
| **文档行数** | 640行 | README.md |
| **测试步骤** | 13步 | TestCtripFlight.py示例 |
| **支持命令** | 10+ | 交互式命令 |
| **定位器类型** | 6种 | XPath/CSS/ID/Name/Link/Attribute |

---

## 🔧 技术规格

### 运行环境
- **Python版本**: 3.7+（推荐3.8+）
- **Selenium版本**: 4.0.0+
- **Pytest版本**: 7.0.0+
- **浏览器**: Google Chrome（最新版）

### 依赖包
```
selenium>=4.0.0
pytest>=7.0.0
pytest-html>=3.1.0
openpyxl>=3.0.0
```

### 文件结构
```
项目目录/
├── web_optimized.py          # 主程序（2027行）
├── TestCtripFlight.py        # 生成的测试脚本
├── clicked_elements.log      # 元素操作日志
├── screenshots/              # 截图目录
├── README.md                 # 项目说明文档
├── CHANGELOG.md              # 版本更新日志
├── VERSION.md                # 当前版本信息（本文件）
├── requirements.txt          # Python依赖
└── LICENSE                   # MIT许可证
```

---

## 🎯 适用场景

✅ 软件测试大赛自动化测试项目  
✅ 携程网机票查询功能测试  
✅ Web应用UI自动化测试  
✅ 回归测试和冒烟测试  
✅ 测试脚本快速原型开发  

---

## 📝 版本对比

| 功能 | v1.0 | v2.0 |
|------|------|------|
| 基础录制 | ✅ | ✅ |
| 元素定位 | ✅ | ✅✨ (智能优化) |
| 需求管理 | ❌ | ✅ (新增) |
| 备选定位器 | ❌ | ✅ (新增) |
| 参数化测试 | ❌ | ✅ (新增) |
| 强力清空 | ❌ | ✅ (新增) |
| 步骤管理 | ❌ | ✅ (新增) |
| 容错机制 | 基础 | ✅✨ (增强) |
| 日志详细度 | 一般 | ✅✨ (详细) |

---

## 🚀 快速开始

### 1. 安装依赖
```bash
pip install -r requirements.txt
```

### 2. 配置ChromeDriver
编辑`web_optimized.py`，修改ChromeDriver路径

### 3. 启动工具
```bash
python web_optimized.py
```

### 4. 开始录制
1. 输入URL（默认：https://www.ctrip.com）
2. 设置初始需求编号（如：R001）
3. 输入元素文本进行操作
4. 输入`quit`退出并生成测试脚本

### 5. 运行测试
```bash
pytest TestCtripFlight.py -v
```

---

## 📖 命令速查

| 命令 | 功能 |
|------|------|
| `元素文本` | 查找并点击元素 |
| `输入框` | 查找输入框 |
| `悬浮` | 鼠标悬浮 |
| `添加` | 自定义CSS选择器 |
| `窗口` | 切换浏览器窗口 |
| `req` | 切换需求编号 |
| `l` | 列出所有步骤 |
| `r` | 删除指定步骤 |
| `quit` | 退出并生成脚本 |

---

## 🐛 已知问题

1. **窗口切换操作不支持备选定位器**  
   状态：计划在v2.1修复

2. **iframe内元素需要手动切换**  
   状态：计划在v2.1添加自动检测

3. **Shadow DOM暂不支持**  
   状态：计划在v2.1支持

---

## 🔄 更新方式

### 从v1.0升级到v2.0
1. 备份现有测试脚本
2. 下载v2.0版本文件
3. 重新配置ChromeDriver路径
4. 运行测试验证

⚠️ **注意**：v2.0生成的测试脚本格式与v1.0不同，建议重新录制

---

## 📞 获取帮助

### 文档资源
- **README.md** - 完整项目说明（640行）
- **CHANGELOG.md** - 版本更新日志
- **操作手册.md** - 详细操作指南（如有）

### 联系方式
- **问题反馈**: GitHub Issues
- **邮箱支持**: 待添加
- **技术交流**: 待添加

---

## 📄 许可证

本项目采用 **MIT 许可证**，可自由使用、修改和分发。

详见 [LICENSE](LICENSE) 文件。

---

## 🙏 致谢

感谢所有为本项目做出贡献的开发者和测试人员！

---

## 🔮 下一版本预告

### v2.1 计划功能
- 🔲 iframe自动检测和切换
- 🔲 Shadow DOM支持
- 🔲 数据驱动测试（Excel/CSV）
- 🔲 Allure测试报告集成
- 🔲 录制回放预览

预计发布时间：待定

---

**构建日期**: 2025-10-26  
**Git标签**: v2.0  
**稳定性**: 🟢 稳定  
**维护状态**: 🟢 积极维护中  

---

<div align="center">

**🎉 感谢使用Web自动化测试工具！**

Made with ❤️ for Software Testing Competition

</div>

